<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>On-Call Schedules</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h2 {
            color: #2c3e50;
        }
        .schedule {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
        .schedule strong {
            display: block;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <h2>Consultant On-Call Schedule</h2>
    <div id="consultant-schedule" class="schedule">Loading consultant data...</div>

    <h2>Specialist On-Call Schedule</h2>
    <div id="specialist-schedule" class="schedule">Loading specialist data...</div>

    <script>
        // Google Sheets API setup
        const apiKey = 'AIzaSyAAv9OhKvEt5A6dpzr3gSfAEDiu8_IL8PQ';  // Your provided API key
        const sheetId = '1-s7A-sGm19mClB1ryzEYbAWIm9hptVoPqjKZTs9ho7A'; // Google Sheet ID

        // Sheet URLs for Consultant (Sheet1) and Specialist (Sheet2)
        const consultantUrl = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/Sheet1?key=${apiKey}`;
        const specialistUrl = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/Sheet2?key=${apiKey}`;

        // Function to fetch data from Google Sheets
        async function fetchData(url) {
            const response = await fetch(url);
            const data = await response.json();
            return data.values;  // Assuming the data is in 'values' array
        }

        // Function to display the Consultant data (Sheet1)
        function displayConsultantData(data) {
            const consultantDiv = document.getElementById('consultant-schedule');
            consultantDiv.innerHTML = ""; // Clear previous data

            data.forEach((row, index) => {
                if (index > 0) {  // Skip header row
                    const div = document.createElement('div');
                    div.innerHTML = `<strong>Doctor:</strong> ${row[1]} <br><strong>Contact:</strong> ${row[4]} <br><strong>Duty Time:</strong> ${row[2]} - ${row[3]}`;
                    consultantDiv.appendChild(div);
                }
            });
        }

        // Function to display the Specialist data (Sheet2)
        function displaySpecialistData(data) {
            const specialistDiv = document.getElementById('specialist-schedule');
            specialistDiv.innerHTML = ""; // Clear previous data

            data.forEach((row, index) => {
                if (index > 0) {  // Skip header row
                    const div = document.createElement('div');
                    div.innerHTML = `<strong>Date:</strong> ${row[0]} (${row[1]}) <br>
                                     <strong>Shift 1 (ER):</strong> ${row[2]} <br>
                                     <strong>Shift 2 (ER):</strong> ${row[3]} <br>
                                     <strong>Shift 2 (Ward):</strong> ${row[4]} <br>
                                     <strong>Shift 3 (ER):</strong> ${row[5]} <br>
                                     <strong>Shift 3 (Ward):</strong> ${row[6]}`;
                    specialistDiv.appendChild(div);
                }
            });
        }

        // Function to handle loading the data
        async function loadSchedules() {
            const consultantData = await fetchData(consultantUrl);
            const specialistData = await fetchData(specialistUrl);

            // Display both Consultant and Specialist schedules
            displayConsultantData(consultantData);
            displaySpecialistData(specialistData);
        }

        // Load the data when the page is ready
        document.addEventListener('DOMContentLoaded', loadSchedules);
    </script>
</body>
</html>